<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice () {
            let choice = Math.floor(Math.random() * 3)
            if (choice === 0) {
                return "rock";
            } else if (choice === 1) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }

        function playRockPaperScissor (playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();
            
            if (playerSelection === "rock") {
                if (computerSelection === "rock") {
                    return "It's a Tie! Play again";
                } else if (computerSelection === "paper") {
                    return "You Lose! Paper beats rock";
                } else {
                    return "You Win! Rock beats scissors";
                }
            } else if (playerSelection === "paper") {
                if (computerSelection === "rock") {
                    return "You Win! Paper beats rock";
                } else if (computerSelection === "paper") {
                    return "It's a Tie! Play again";
                } else {
                    return "You Lose! Scissors beats rock";
                }
            } else {
                if (computerSelection === "rock") {
                    return "You Lose! Rock beats paper";
                } else if (computerSelection === "paper") {
                    return "You Win! Scissors beat paper";
                } else {
                    return "It's a Tie! Play again";
                }
            }
        }

        function playGame (rounds) {
            let playerScore = 0;

            //Play number of rounds of rock, paper or scissors
            for (i=0; i<rounds; i++){ 
                playerSelection = prompt("Choose rock, paper or scissors");    // TO DO: Include Input error handling
                let Outcome = playRockPaperScissor(playerSelection,getComputerChoice());
                
                if (Outcome.startsWith("You Win!")) {
                    playerScore++;
                } 
                console.log(Outcome);
            }

            //Identify the winner for number of rounds played
            if (playerScore / rounds > 0.5) {
                return "You Win this Game";
            } else if (playerScore / rounds === 0.5) {
                return "It's a Tie - Play another game";
            } else {
                return "You Lose this Game";
            }
            
        }

        console.log(playGame(5));

    </script>
</body>
</html>
