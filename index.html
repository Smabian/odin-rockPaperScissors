<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div>
        <p id="plaerScore">Player Score: </p>
        <p id="computerScore">Computer Score: </p>
    </div>
    
    <div>
        <p>Below you can find the Results:</p>
        <ul id="results">

        </ul>
    </div>




    <script>
        function getComputerChoice () {
            let choice = Math.floor(Math.random() * 3)
            if (choice === 0) {
                return "rock";
            } else if (choice === 1) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }

        function playRockPaperScissor (playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();
            
            if (playerSelection === "rock") {
                if (computerSelection === "rock") {
                    return "It's a Tie! Play again";
                } else if (computerSelection === "paper") {
                    return "You Lose! Paper beats rock";
                } else {
                    return "You Win! Rock beats scissors";
                }
            } else if (playerSelection === "paper") {
                if (computerSelection === "rock") {
                    return "You Win! Paper beats rock";
                } else if (computerSelection === "paper") {
                    return "It's a Tie! Play again";
                } else {
                    return "You Lose! Scissors beats rock";
                }
            } else {
                if (computerSelection === "rock") {
                    return "You Lose! Rock beats paper";
                } else if (computerSelection === "paper") {
                    return "You Win! Scissors beat paper";
                } else {
                    return "It's a Tie! Play again";
                }
            }
        }

        function playGame (rounds) {
            let playerScore = 0;

            //Play number of rounds of rock, paper or scissors
            for (i=0; i<rounds; i++){ 
                playerSelection = prompt("Choose rock, paper or scissors");    
                let Outcome = playRockPaperScissor(playerSelection,getComputerChoice());
                
                if (Outcome.startsWith("You Win!")) {
                    playerScore++;
                } 
                console.log(Outcome);
            }

            //Identify the winner for number of rounds played
            if (playerScore / rounds > 0.5) {
                return "You Win this Game";
            } else if (playerScore / rounds === 0.5) {
                return "It's a Tie - Play another game";
            } else {
                return "You Lose this Game";
            }

        }

        function addScore (outcome) {
            let entry = document.createElement("li");

            //Get Current Score

            let text = document.createTextNode(outcome);
            entry.appendChild(text);
            document.getElementById("results").appendChild(entry);
        }
        
        document.getElementById("rock").addEventListener("click", function () {
            let outcome = playRockPaperScissor("rock",getComputerChoice());
            addScore(outcome);
        }, false);
         
        document.getElementById("paper").addEventListener("click", function () {
            let outcome = playRockPaperScissor("paper",getComputerChoice());
            addScore(outcome);
        }, false);

        document.getElementById("scissors").addEventListener("click", function () {
            let outcome = playRockPaperScissor("scissors",getComputerChoice());
            addScore(outcome);
        }, false);
    

    </script>
</body>
</html>
